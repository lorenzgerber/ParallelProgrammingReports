library(tcltk)
plot(1,1)
10+10
plot(c(1,2,3))
plot(c(1,2,3),c(1,4,6))
mean(1,2,23)
mean(c(1,2,23)
)
## ----global_options, include=FALSE---------------------------------------
knitr::opts_chunk$set(fig.width=3.5, fig.height=3.5, fig.path='Figs/',
echo=TRUE, warning=FALSE, message=FALSE)
## ---- message=FALSE------------------------------------------------------
library(tofsims)
library(tofsimsData)
### get path to raw data file
rawData<-system.file('rawdata', 'trift_test_001.RAW', package="tofsimsData")
### the following param will cause to run non parallel
library(BiocParallel)
register(SnowParam(workers=0), default=TRUE)
spectraImport<-MassSpectra(select = 'ulvacraw', analysisName = rawData)
## ------------------------------------------------------------------------
show(spectraImport)
plot(spectraImport, mzRange=c(1,150), type='l')
## ---- message=FALSE------------------------------------------------------
spectraImport <- calibPointNew(object = spectraImport, mz = 15, value = 15.0113)
spectraImport <- calibPointNew(object = spectraImport, mz = 181, value = 181.0444)
spectraImport <- recalibrate(spectraImport)
## ---- tidy=FALSE, message=FALSE------------------------------------------
spectraImport <- unitMassPeaks(object = spectraImport,
mzRange = c(1,250),
widthAt = c(15,181),
factor = c(0.4, 0.6),
lower = c(14.96283,15.05096),
upper = c(180.80902,181.43538))
plot(spectraImport, mzRange=c(35,45), type='l')
## ------------------------------------------------------------------------
library(RColorBrewer)
imageImport<-MassImage(select = 'ulvacrawpeaks',
analysisName = rawData,
PeakListobj = spectraImport)
imageImport <- poissonScaling(imageImport)
image(imageImport, col=brewer.pal(9, 'PuRd'))
## ---- fig.width=7, fig.height=2, results="hide"--------------------------
imageImport <- PCAnalysis(imageImport, nComp = 4)
imageImport <- MAF(imageImport, nComp = 4)
par(mar=c(0,0,0,0), oma=c(0,0,0,0), mfrow=c(2,4))
for(iii in 1:4) image(analysis(imageImport, 1), comp=iii)
for(iii in 1:4) image(analysis(imageImport, 2), comp=iii)
## ---- fig.width=3.5, fig.height=3.5--------------------------------------
library(EBImage)
pcaScore3<-imageMatrix(analysis(imageImport, 1), comp=3)
pcaScore3Mask<-thresh(x = pcaScore3, h = 30, w = 30)
par(mar=c(0,0,0,0), oma=c(0,0,0,0))
image(pcaScore3Mask, col=c('white', 'black'))
## ------------------------------------------------------------------------
paste(round(100/(xy(imageImport)[1]*xy(imageImport)[2])*sum(pcaScore3Mask),2),
' % of the image is Cell Wall')
## ---- fig.width=7, fig.height=3.5----------------------------------------
opened<-opening(pcaScore3Mask, kern = makeBrush(3, shape = 'diamond'))
closed<-closing(pcaScore3Mask, kern = makeBrush(3, shape = 'diamond'))
par(mar=c(0,0,0,0), oma=c(0,0,0,0), mfcol=c(1,2))
image(opened, col = c('white', 'black'))
image(closed, col = c('white','black'))
## ---- fig.width=7, fig.height=3.5----------------------------------------
cellWall<-bwApply(imageImport,(opened-1)^2)
par(mar=c(0,0,0,0), oma=c(0,0,0,0), mfcol=c(1,2))
image(cellWall,col=brewer.pal(9, 'PuRd'))
image(imageImport,col=brewer.pal(9, 'PuRd'))
install.packages('knitr')
source("https://bioconductor.org/biocLite.R")
biocLite("tofsimsData")
setwd("~/git/ParallelProgrammingReports/topic_3/timing_matrixvector")
test<-read.csv("slurm-6146121.txt")
test
test<-read.csv("slurm-6146121.txt", header=FALSE)
test
dim(test)
test[1]
test[1,1]
test<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
test
dim(test)
typeof(test)
dim(test)
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
cbind(data1,rep(1,500))
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-cbind(rep(1,500), data1)
data2<-cbind(rep(1,500), data2)
data4<-cbind(rep(1,500), data4)
data8<-cbind(rep(1,500), data8)
data16<-cbind(rep(1,500), data16)
data1
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
data
data1<-cbind(rep(1,500), data1)
data2<-cbind(rep(2,500), data2)
data4<-cbind(rep(4,500), data4)
data8<-cbind(rep(8,500), data8)
data16<-cbind(rep(16,500), data16)
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
View(data)
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-cbind(rep(1,500), data1)
data2<-cbind(rep(2,500), data2)
data4<-cbind(rep(4,500), data4)
data8<-cbind(rep(8,500), data8)
data16<-cbind(rep(16,500), data16)
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
data4
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-cbind(rep(1,500), data1)
data2<-cbind(rep(2,500), data2)
data4<-cbind(rep(4,500), data4)
data8<-cbind(rep(8,500), data8)
data16<-cbind(rep(16,500), data16)
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
data1
data2
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-cbind(rep(1,500), data1)
data2<-cbind(rep(2,500), data2)
data4<-cbind(rep(4,500), data4)
data8<-cbind(rep(8,500), data8)
data16<-cbind(rep(16,500), data16)
data<-rbind(data1, data2)
rbind(data1,data2)
matrix(data1)
dim(data1)
matrix(data1,500,3)
matrix(data1,500,3)
unlist(data1)
head(data1)
matrix(unlist(data1),500,3)
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-matrix(unlist(cbind(rep(1,500), data1)),500,3)
data2<-matrix(unlist(cbind(rep(2,500), data2)),500,3)
data4<-matrix(unlist(cbind(rep(4,500), data4)),500,3)
data8<-matrix(unlist(cbind(rep(8,500), data8)),500,3)
data16<-matrix(unlist(cbind(rep(16,500), data16)),500,3)
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
data
data1<-read.csv("slurm-6146121.txt", sep=" ", header=FALSE)
data2<-read.csv("slurm-6146122.txt", sep=" ", header=FALSE)
data4<-read.csv("slurm-6146123.txt", sep=" ", header=FALSE)
data8<-read.csv("slurm-6146124.txt", sep=" ", header=FALSE)
data16<-read.csv("slurm-6146126.txt", sep=" ", header=FALSE)
data1<-matrix(unlist(cbind(rep(1,500), data1)),500,3)
data2<-matrix(unlist(cbind(rep(2,500), data2)),500,3)
data4<-matrix(unlist(cbind(rep(4,500), data4)),500,3)
data8<-matrix(unlist(cbind(rep(8,500), data8)),500,3)
data16<-matrix(unlist(cbind(rep(16,500), data16)),500,3)
data<-rbind(data1, data2)
data<-rbind(data, data4)
data<-rbind(data, data8)
data<-rbind(data, data16)
plot(data[,1])
plot(data[,2])
plot(data[,3])
boxplot(data)
boxplot(data[,3]~data[,2])
boxplot(data[,3]~data[,1])
boxplot(data[,3]~data[,1], xlim=c(0,0004))
boxplot(data[,3]~data[,1], xlim=c(0,0.0004))
boxplot(data[,3]~data[,1], ylim=c(0,0.0004))
boxplot(data[,3]~data[,1], ylim=c(0,0.004))
boxplot(data[,3]~data[,1], ylim=c(0,0.004))
boxplot(data[,3]~data[,1], ylim=c(0,0.001))
boxplot(data[,3]~data[,1], ylim=c(0,0.0001))
boxplot(data[,3]~data[,1], ylim=c(0,0.0004))
boxplot(data[,3]~data[,1], ylim=c(0,0.0002))
